// Generated by CoffeeScript 1.5.0
/*
# Author: Gautham Badhrinathan (gbadhrinathan@esri.com)
*/

var featureServiceUrl, geometryServiceUrl, imageServiceUrl;

geometryServiceUrl = "http://lamborghini:6080/arcgis/rest/services/Utilities/Geometry/GeometryServer";

imageServiceUrl = "http://lamborghini:6080/arcgis/rest/services/Reproj_Clip_p033r032_7dt20020920_z13_MS1/ImageServer";

featureServiceUrl = "http://lamborghini:6080/arcgis/rest/services/Signatures/MapServer/0";

require(["dojo/ready", "esri/geometry", "esri/layers/FeatureLayer"], function(ready) {
  return ready(function() {
    var featureLayer,
      _this = this;
    featureLayer = new esri.layers.FeatureLayer(featureServiceUrl, {
      outFields: ["SIGURL"]
    });
    return dojo.connect(featureLayer, "onLoad", function() {
      var query;
      query = new esri.tasks.Query;
      query.geometry = featureLayer.fullExtent;
      query.spatialRelationship = esri.tasks.Query.SPATIAL_REL_INTERSECTS;
      return featureLayer.selectFeatures(query, esri.layers.FeatureLayer.SELECTION_NEW, function(features) {
        return console.log(features);
      });
    });
  });
});
