// Generated by CoffeeScript 1.4.0

define(["dojo/_base/declare", "dijit/_WidgetBase", "dijit/_TemplatedMixin", "dijit/_WidgetsInTemplateMixin", "dojo/text!./ClassifyWidget/templates/ClassifyWidget.html", "dojo/on", "dijit/layout/BorderContainer", "dijit/layout/ContentPane", "dijit/form/TextBox", "dijit/form/Button", "esri/map"], function(declare, _WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin, template, connect) {
  return declare([_WidgetBase, _TemplatedMixin, _WidgetsInTemplateMixin], {
    templateString: template,
    baseClass: "classifyWidget",
    map: null,
    _imageServiceUrlInput: null,
    _featureServiceUrlInput: null,
    _classify: function() {
      var nl,
        _this = this;
      nl = new esri.layers.ArcGISImageServiceLayer(this._imageServiceUrlInput.get("value"));
      this.map.addLayer(nl);
      return connect(this.map, "LayerAdd", function() {
        return _this.map.setExtent(nl.initialExtent);
      });
    }
  });
});
