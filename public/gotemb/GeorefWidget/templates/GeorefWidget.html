<div style="width: 400px; height: 100%">
	<div data-dojo-type="dijit/Menu" data-dojo-props="contextMenuForWindow: true, selector: 'td.field-id'" data-dojo-attach-point="tiepointsContextMenu" style="display: none" data-dojo-attach-event="onOpen: tiepointsContextMenuOpen">
		<div data-dojo-type="dijit/MenuItem" data-dojo-attach-point="resetTiepointMenuItem" data-dojo-attach-event="onClick: resetTiepoint">Reset Tiepoint</div>
		<div data-dojo-type="dijit/MenuItem" data-dojo-attach-event="onClick: removeTiepoint">Remove Tiepoint</div>
	</div>
	<div data-dojo-type="dijit/Dialog" data-dojo-attach-point="addRasterDialog" title="Add Raster">
		<table class="dijitDialogPaneContentArea">
			<tr>
				<td style="height: 25px; vertical-align: middle; width: 1; white-space: nowrap">
					<label>Raster:</label>
				</td>
				<td style="height: 25px; vertical-align: middle">
					<form data-dojo-attach-point="uploadForm">
						<input type="file" data-dojo-attach-point="imageFile" style="min-width: 250px; width: 100%" name="file">
					</form>
				</td>
			</tr>
		</table>
		<div class="dijitDialogPaneActionBar">
			<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: addRasterDialog_upload">Upload</button>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="selectRasterContainer">
		<div data-dojo-type="dijit/layout/ContentPane" title="Select Raster" style="padding: 0">
			<div data-dojo-type="dijit/Toolbar">
				<div data-dojo-type="dijit/form/Button" data-dojo-attach-event="onClick: showAddRasterDialog">Add Raster</div>
				<span data-dojo-type="dijit/ToolbarSeparator"></span>
				<div data-dojo-type="dijit/form/ToggleButton" data-dojo-attach-point="rasters_toggleReferenceLayersButton" data-dojo-attach-event="onChange: toggleReferenceLayer" data-dojo-props="checked: true">Toggle Reference Layer</div>
			</div>
			<div data-dojo-type="gotemb/GeorefWidget/RastersGrid" data-dojo-attach-point="rastersGrid" style="height: 150px"></div>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="tasksContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Tasks">
			<table style="width: 100%">
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: roughTransform">Move raster to current view</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: computeAndTransform">Match raster with reference layer</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: startEditTiepoints">Manually edit tiepoints</button>
					</td>
				</tr>
			</table>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="editTiepointsContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Edit Tiepoints" style="padding: 0">
			<div data-dojo-type="dijit/Toolbar">
				<div data-dojo-type="dijit/form/Button" data-dojo-attach-event="onClick: showAddRasterDialog">Add Point</div>
				<div data-dojo-type="dijit/form/Button" data-dojo-attach-event="onClick: toggleTiepointsSelection" data-dojo-attach-point="toggleTiepointsSelectionButton">Select All</div>
				<div data-dojo-type="dijit/form/DropDownButton" style="float: right; padding-right: 0.3em">
					<span>Layers</span>
					<div data-dojo-type="dijit/Menu">
						<div data-dojo-type="dijit/CheckedMenuItem" data-dojo-attach-point="editTiepoints_toggleReferenceLayerButton" data-dojo-attach-event="onChange: toggleReferenceLayer" data-dojo-props="checked: true">Reference Layer</div>
						<div data-dojo-type="dijit/CheckedMenuItem" data-dojo-attach-point="editTiepoints_toggleRasterLayerButton"  data-dojo-attach-event="onChange: toggleRasterLayer" data-dojo-props="checked: true">Raster Layer</div>
					</div>
				</div>
			</div>
			<div data-dojo-attach-point="tiepointsGrid" style="height: 300px"></div>
			<div class="dijitDialogPaneActionBar" style="margin: 0">
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: closeEditTiepoints">Cancel</button>
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: closeEditTiepoints">Apply Transform</button>
			</div>
			<div style="position: absolute; width: 100%; height: 100%; top: 0; display: none; z-index: 1" data-dojo-attach-point="editTiepointsContainer_loading">
				<div style="position: absolute; background: white; opacity: 0.75; width: 100%; height: 100%"></div>
				<div style="position: absolute; width: 100%; text-align: center; top: 50%; line-height: 0">Computing Tiepoints...</div>
			</div>
		</div>
	</div>
</div>