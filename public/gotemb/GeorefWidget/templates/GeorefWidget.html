<div style="width: 400px; height: 100%">
	<div data-dojo-attach-point="mouseTip" style="display: none; position: fixed; border: solid 1px black; background-color: #FFFFAA; z-index: 900; padding: 3px">...</div>
	<div data-dojo-type="dijit/Menu" data-dojo-props="contextMenuForWindow: true, selector: 'td.field-id'" data-dojo-attach-point="tiepointsContextMenu" style="display: none" data-dojo-attach-event="onOpen: tiepointsContextMenuOpen">
		<div data-dojo-type="dijit/MenuItem" data-dojo-attach-point="resetTiepointMenuItem" data-dojo-attach-event="onClick: resetTiepoint">Reset Tiepoint</div>
		<div data-dojo-type="dijit/MenuItem" data-dojo-attach-event="onClick: removeTiepoint">Remove Tiepoint</div>
	</div>
	<div data-dojo-type="dijit/Dialog" data-dojo-attach-point="addRasterDialog" title="Add Raster">
		<table class="dijitDialogPaneContentArea">
			<tr>
				<td style="height: 25px; vertical-align: middle; width: 1; white-space: nowrap">
					<label>Raster:</label>
				</td>
				<td style="height: 25px; vertical-align: middle">
					<form data-dojo-attach-point="uploadForm">
						<input type="file" data-dojo-attach-point="imageFile" style="min-width: 250px; width: 100%" name="file">
					</form>
				</td>
			</tr>
		</table>
		<div class="dijitDialogPaneActionBar">
			<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: addRasterDialog_upload">Upload</button>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="selectRasterContainer">
		<div data-dojo-type="dijit/layout/ContentPane" title="Select Raster" style="padding: 0">
			<div data-dojo-type="dijit/Toolbar">
				<div data-dojo-type="dijit/form/Button" data-dojo-attach-event="onClick: showAddRasterDialog">Add Raster</div>
				<span data-dojo-type="dijit/ToolbarSeparator"></span>
				<div data-dojo-type="dijit/form/ToggleButton" data-dojo-attach-point="rasters_toggleReferenceLayersButton" data-dojo-attach-event="onChange: toggleReferenceLayer" data-dojo-props="checked: true">Toggle Reference Layer</div>
			</div>
			<div data-dojo-type="gotemb/GeorefWidget/RastersGrid" data-dojo-attach-point="rastersGrid" style="height: 150px"></div>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="tasksContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Tasks">
			<table style="width: 100%">
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: openRoughTransform">Manual Transform</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: computeAndTransform">Match raster with reference layer</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: startEditTiepoints">Manually edit tiepoints</button>
					</td>
				</tr>
			</table>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="editTiepointsContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Edit Tiepoints" style="padding: 0">
			<div data-dojo-type="dijit/Toolbar">
				<div data-dojo-type="dijit/form/ToggleButton" data-dojo-attach-point="addTiepointButton" data-dojo-attach-event="onChange: addTiepoint">Add Point</div>
				<div data-dojo-type="dijit/form/DropDownButton">
					<span>Selection</span>
					<div data-dojo-type="dijit/Menu">
						<div data-dojo-type="dijit/MenuItem" data-dojo-attach-point="toggleTiepointsSelectionMenuItem" data-dojo-attach-event="onClick: toggleTiepointsSelection">Select All</div>
						<div data-dojo-type="dijit/MenuItem" data-dojo-attach-point="resetSelectedTiepointsMenuItem" data-dojo-attach-event="onClick: resetSelectedTiepoints">Reset Selected Tiepoints</div>
						<div data-dojo-type="dijit/MenuItem" data-dojo-attach-point="removeSelectedTiepointsMenuItem" data-dojo-attach-event="onClick: removeSelectedTiepoints">Remove Selected Tiepoints</div>
					</div>
				</div>
				<div data-dojo-type="dijit/form/DropDownButton" style="float: right; padding-right: 0.3em">
					<span>Layers</span>
					<div data-dojo-type="dijit/Menu">
						<div data-dojo-type="dijit/CheckedMenuItem" data-dojo-attach-point="editTiepoints_toggleReferenceLayerButton" data-dojo-attach-event="onChange: toggleReferenceLayer" data-dojo-props="checked: true">Reference Layer</div>
						<div data-dojo-type="dijit/CheckedMenuItem" data-dojo-attach-point="editTiepoints_toggleRasterLayerButton"  data-dojo-attach-event="onChange: toggleRasterLayer" data-dojo-props="checked: true">Raster Layer</div>
					</div>
				</div>
			</div>
			<div data-dojo-attach-point="tiepointsGrid" style="height: 300px"></div>
			<div class="dijitDialogPaneActionBar">
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: closeEditTiepoints">Cancel</button>
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: applyManualTransform">Apply Transform</button>
			</div>
			<div style="position: absolute; width: 100%; height: 100%; top: 0; display: none; z-index: 1" data-dojo-attach-point="editTiepointsContainer_loading">
				<div style="position: absolute; background: white; opacity: 0.75; width: 100%; height: 100%"></div>
				<div style="position: absolute; width: 100%; text-align: center; top: 50%; line-height: 0">Computing Tiepoints...</div>
			</div>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="manualTransformContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Manual Transform">
			<table style="width: 100%">
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/Button" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onClick: rt_fit">Fit Raster to Current View</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/ToggleButton" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onChange: rt_move" data-dojo-attach-point="rt_moveButton">Move Raster</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/ToggleButton" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onChange: rt_scale" data-dojo-attach-point="rt_scaleButton">Scale Raster</button>
					</td>
				</tr>
				<tr>
					<td style="height: 25px; vertical-align: middle; text-align: center">
						<button class="fixedWidth250" data-dojo-type="dijit/form/ToggleButton" style="margin-top: 0; margin-bottom: 0; margin-right: 0" data-dojo-attach-event="onChange: rt_rotate" data-dojo-attach-point="rt_rotateButton">Rotate Raster</button>
					</td>
				</tr>
			</table>
			<div class="dijitDialogPaneActionBar">
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: closeRoughTransform">Done</button>
			</div>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="rtMoveContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Move Raster" style="padding: 0">
			<table style="width: 100%; text-align: center; border-collapse: collapse; border: 1px solid #DDD">
				<tr>
					<th style="border: 1px solid #DDD; background-color: #EEE; padding: 5px">From</th>
					<th style="border: 1px solid #DDD; background-color: #EEE; padding: 5px">To</th>
				</tr>
				<tr>
					<td style="padding: 0; border: 1px solid #DDD"><div data-dojo-type="gotemb/GeorefWidget/PointGrid" data-dojo-attach-point="rtMoveFromGrid"></div></td>
					<td style="padding: 0; border: 1px solid #DDD"><div data-dojo-type="gotemb/GeorefWidget/PointGrid" data-dojo-attach-point="rtMoveToGrid"></div></td>
				</tr>
				<tr>
					<td style="border: 1px solid #DDD"><button data-dojo-type="dijit/form/ToggleButton" data-dojo-attach-event="onChange: rtMoveFromPick" data-dojo-attach-point="rtMoveFromPickButton">Pick Point</button></td>
					<td style="border: 1px solid #DDD"><button data-dojo-type="dijit/form/ToggleButton" data-dojo-attach-event="onChange: rtMoveToPick" data-dojo-attach-point="rtMoveToPickButton">Pick Point</button></td>
				</tr>
			</table>
			<div class="dijitDialogPaneActionBar">
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: rt_moveClose">Cancel</button>
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: rt_moveTransform">Move</button>
			</div>
		</div>
	</div>
	<div data-dojo-type="dijit/layout/AccordionContainer" data-dojo-attach-point="rtScaleContainer" style="display: none">
		<div data-dojo-type="dijit/layout/ContentPane" title="Scale Raster" style="text-align: center">
			<form style="display: inline-block">
				<label>Scale Factor:</label>
				<input type="text" data-dojo-attach-point="rtScaleFactorInput">
			</form>
			<div class="dijitDialogPaneActionBar">
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: rt_scaleClose">Cancel</button>
				<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick: rt_scaleTransform">Scale</button>
			</div>
		</div>
	</div>
</div>