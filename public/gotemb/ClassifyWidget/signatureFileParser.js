// Generated by CoffeeScript 1.5.0

define(["dojo/request"], function(request) {
  return {
    getClasses: function(filePath, callback) {
      return request.get(filePath, {
        headers: {
          "X-Requested-With": ""
        }
      }).then(function(gsg) {
        var lines, nLayers;
        lines = gsg.match(/^((?!#|\/\*).)+/gm);
        nLayers = Number(lines[0].match(/\d+/g)[3]);
        return typeof callback === "function" ? callback((function() {
          var cells, line, _i, _len, _ref, _ref1, _results;
          _ref1 = lines.slice(1);
          _ref = nLayers + 2;
          _results = [];
          for ((_ref > 0 ? (_i = 0, _len = _ref1.length) : _i = _ref1.length - 1); _ref > 0 ? _i < _len : _i >= 0; _i += _ref) {
            line = _ref1[_i];
            cells = line.match(/[^ ]+/g);
            _results.push({
              value: Number(cells[0]),
              classname: cells[2]
            });
          }
          return _results;
        })()) : void 0;
      });
    }
  };
});
